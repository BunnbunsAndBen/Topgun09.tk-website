<!DOCTYPE html>
<html>
<head>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Styles -->
    <link type="text/css" rel="stylesheet" href="/static/css/materialize.min.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="/static/css/global.css" />
    <title>Access</title>
    <!-- Meta -->
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png">
    <link rel="manifest" href="/static/favicons/site.webmanifest">
    <link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#1565c0">
    <link rel="shortcut icon" href="/static/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#1565c0">
    <meta name="msapplication-config" content="/static/favicons/browserconfig.xml">
    <meta name="theme-color" content="#1565c0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
    *{
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        -webkit-font-smoothing: antialiased;
    }
    </style>
</head>
<body>
<div class="banner">
   
  <nav>
    <div class="nav-wrapper blue darken-3">
      <a href="/" class="brand-logo"><img class="nav-logo" src="/white-logo.png"></a>
      <a href="/find-access/" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        <li><a href="/">Home</a></li>
        <li class="active"><a href="/find-access/">Access</a></li>
        <li><a href="/about/">About</a></li>
      </ul>
    </div>
  </nav>

  <ul class="sidenav" id="mobile-demo">
    <li><a href="/">Home</a></li>
    <li class="active"><a href="/find-access/">Access</a></li>
    <li><a href="/about/">About</a></li>
  </ul>
<!-- page content -->
    <div class="page-wapper text-white">
        <div class="container center">
            <h3 class="title">Access Topgun09</h3>
            <p class="header">Get access to the Topgun09 project</p>
        </div>
    </div>
    <div class="info bg">
        <div class="container center">
            <p class="left-align">The Topgun09 project is hosted inside the RCSC network and for that reason, is not accessible outside of it without the use of "tunneling".</p>
            <p class="left-align">To access the project, you must use one of the following methods:</p>
            <ol class="left-align">
                <li>The local IP address (reccomended): <span id="local">Loading...</span></li>
                <li>The main HTTP tunnel (for use outside school): <span id="tunnel">Loading...</span> <i class="material-icons tiny blue-grey-text text-lighten-2 info-icon modal-trigger" data-target="tunnel-info">info</i></li>
                <li>A proxy (for use if the main tunnel is blocked): <a href="https://topgun09.herokuapp.com">https://topgun09.herokuapp.com</a></li>
            </ol>
            <!-- tunnel info modal -->
            <div id="tunnel-info" class="modal">
                <div class="modal-content">
                    <p><b>The current tunnel address will not stay the same.</b></p>
                    <p>A new tunnel address is created after each startup of the server.</p>
                </div>
                <div class="modal-footer">
                    <a href="#!" class="modal-close waves-effect waves-green btn-flat">OK</a>
                </div>
            </div>
            <hr />
            <h4 style="margin-bottom:.5rem;">Local Access</h4>
            <p style="margin:0 0 .75rem 0;">Latest IP address</p>
                <div id="loading-table" class="center">
                  <div class="preloader-wrapper small active">
                    <div class="spinner-layer spinner-blue-only">
                      <div class="circle-clipper left">
                        <div class="circle"></div>
                      </div><div class="gap-patch">
                        <div class="circle"></div>
                      </div><div class="circle-clipper right">
                        <div class="circle"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="local-table">
                </div>
            <h4 style="margin-bottom:.5rem;">Tunnel Access</h4>
            <p style="margin:0 0 .75rem 0;">Latest HTTP tunnel address <i class="material-icons tiny blue-grey-text text-lighten-2 info-icon modal-trigger" data-target="tunnel-info">info</i></p>
                <div id="loading-table2" class="center">
                  <div class="preloader-wrapper small active">
                    <div class="spinner-layer spinner-blue-only">
                      <div class="circle-clipper left">
                        <div class="circle"></div>
                      </div><div class="gap-patch">
                        <div class="circle"></div>
                      </div><div class="circle-clipper right">
                        <div class="circle"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="tunnel-table">
                </div>
            <hr />
            <h5>Hotlinking/Short links</h5>
            <p class="center">To hotlink somthing inside of Topgun09, you can use <b>http://t09url.tk/&lt;whatever you want&gt;</b></p>
            <hr />
            <h5>API Stuff</h5>
            <p class="center">Want to make somthing that uses Topgun09?</p>
            <a href="/api-stuff/" class="waves-effect waves-light btn blue darken-3">Topgun09 APIs</a>
        </div>
        <br />
    </div>
<footer id="footer">
  <div class="container-fluid">
    <br />
    <div>
        <a href="/"><img class="footer-logo" height="35px" src="/logo-small.png"></a>
        <a class="footer-text" href="https://github.com/topgun09">Â© 2019</a>
        <a class="light-footer-text" href="/old.php">Old Site</a>
    </div>
    <br />
  </div>
</footer>
  
    <video autoplay loop muted class="banner__video" poster="/static/video/thumb/plexus.jpg">
      <source src="https://benworld.net/static/video/plexus.mp4" type="video/mp4">
    </video>
  </div>
    <!-- JavaScript -->
    <script type="text/javascript" src="/static/js/materialize.min.js"></script>
    <script type="text/javascript" src="/static/js/global.js"></script>
    <script>
    getLocal();
    getTunnel();
    function getLocal(){
        // Make request //
        var xhttp = new XMLHttpRequest(); 
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                // Request is complete //
                document.getElementById("loading-table").style.display ="none";
                var tmp = JSON.parse(this.responseText);
                document.getElementById("local-table").innerHTML = '<a href="http://'+tmp[0].ip+'">'+tmp[0].ip+'</a>';
                document.getElementById("local").innerHTML = '<a href="http://'+tmp[0].ip+'">'+tmp[0].ip+'</a>';
            }
        };
        xhttp.open("GET", "https://topgun09.000webhostapp.com/api.php?json=local", true);
        xhttp.send();
    }
    function getTunnel(){
        // Make request //
        var xhttp = new XMLHttpRequest(); 
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                // Request is complete //
                document.getElementById("loading-table2").style.display ="none";
                var tmp = JSON.parse(this.responseText);
                document.getElementById("tunnel-table").innerHTML = '<a href="'+tmp.ip+'">'+tmp.ip+'</a>';
                document.getElementById("tunnel").innerHTML = '<a href="'+tmp.ip+'">'+tmp.ip+'</a>';
            }
        };
        xhttp.open("GET", "https://topgun09.000webhostapp.com/api.php?json=tunnel", true);
        xhttp.send();
    }
    </script>
</body>
</html>